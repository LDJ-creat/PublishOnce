# Test Environment Configuration
NODE_ENV=test

# Database Configuration
MONGODB_TEST_URI=mongodb://localhost:27017/publishonce_test
MONGODB_TEST_OPTIONS={"useNewUrlParser":true,"useUnifiedTopology":true}

# Redis Configuration (for testing)
REDIS_TEST_HOST=localhost
REDIS_TEST_PORT=6379
REDIS_TEST_DB=1
REDIS_TEST_PASSWORD=

# Server Configuration
TEST_PORT=3001
TEST_HOST=localhost

# JWT Configuration (for testing)
JWT_TEST_SECRET=test_jwt_secret_key_for_testing_only_do_not_use_in_production
JWT_TEST_EXPIRES_IN=1h
JWT_REFRESH_TEST_EXPIRES_IN=7d

# Bcrypt Configuration (faster for tests)
BCRYPT_TEST_ROUNDS=4

# File Upload Configuration
UPLOAD_MAX_SIZE=5242880
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,image/webp
UPLOAD_DEST=tests/temp/uploads

# External Services (mocked in tests)
EMAIL_PROVIDER=mock
EMAIL_API_KEY=mock_email_api_key
STORAGE_PROVIDER=local
STORAGE_BASE_PATH=tests/temp/storage

# Platform API Configuration (for testing)
CSDN_BASE_URL=https://blog.csdn.net
CSDN_API_URL=https://blog-console-api.csdn.net
CSDN_TIMEOUT=5000

JUEJIN_BASE_URL=https://juejin.cn
JUEJIN_API_URL=https://api.juejin.cn
JUEJIN_TIMEOUT=5000

ZHIHU_BASE_URL=https://www.zhihu.com
ZHIHU_API_URL=https://www.zhihu.com/api
ZHIHU_TIMEOUT=5000

# Rate Limiting (more lenient for tests)
RATE_LIMIT_WINDOW_MS=1000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_SKIP_SUCCESSFUL=true

# Logging Configuration
LOG_LEVEL=error
LOG_FILE=tests/temp/logs/test.log
LOG_ERROR_FILE=tests/temp/logs/error.log

# Queue Configuration (for testing)
QUEUE_REDIS_URL=redis://localhost:6379/1
QUEUE_CONCURRENCY=1
QUEUE_MAX_ATTEMPTS=3
QUEUE_BACKOFF_DELAY=1000

# Cache Configuration
CACHE_TTL=300
CACHE_MAX_KEYS=1000

# Security Configuration
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true
HELMET_ENABLED=false

# Performance Configuration
COMPRESSION_ENABLED=false
REQUEST_TIMEOUT=30000

# Test-specific Configuration
JEST_VERBOSE=false
JEST_SILENT=false
JEST_MAX_WORKERS=50%
TEST_TIMEOUT=30000

# Mock Services Configuration
MOCK_EMAIL_SERVICE=true
MOCK_FILE_UPLOAD=true
MOCK_EXTERNAL_APIS=true
MOCK_QUEUE_SERVICE=true
MOCK_CACHE_SERVICE=true

# Performance Test Configuration
LOAD_TEST_USERS=50
LOAD_TEST_DURATION=60
STRESS_TEST_MAX_USERS=200
STRESS_TEST_STEP_USERS=25

# Security Test Configuration
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=300
PASSWORD_MIN_LENGTH=8
MAX_INPUT_LENGTH=10000
MAX_FILE_SIZE=5242880

# Integration Test Configuration
API_TIMEOUT=10000
DB_TIMEOUT=5000
QUEUE_TIMEOUT=3000
CACHE_TIMEOUT=1000
MAX_RETRY_ATTEMPTS=3
RETRY_BACKOFF_DELAY=1000

# Debug Configuration
DEBUG_ENABLED=false
DEBUG_NAMESPACE=publishonce:test
VERBOSE_LOGGING=false

# Test Data Configuration
TEST_USER_USERNAME=testuser
TEST_USER_EMAIL=test@example.com
TEST_USER_PASSWORD=password123
TEST_ADMIN_USERNAME=admin
TEST_ADMIN_EMAIL=admin@example.com
TEST_ADMIN_PASSWORD=admin123

# Cleanup Configuration
CLEANUP_ON_EXIT=true
CLEANUP_TEMP_FILES=true
CLEANUP_TEST_DATA=true